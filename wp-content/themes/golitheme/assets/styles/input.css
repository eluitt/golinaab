@tailwind base;
@tailwind components;
@tailwind utilities;

/* Custom base styles */
@layer base {
  html {
    font-family: 'Doran', Tahoma, Arial, sans-serif;
    direction: rtl;
  }
  
  .en-site {
    font-family: 'Crimson Pro', Georgia, serif;
    direction: ltr;
  }
  
  body {
    @apply text-soft-black bg-pure-white;
    font-feature-settings: 'kern' 1;
    text-rendering: optimizeLegibility;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
  
  /* Respect reduced motion (do not kill hover transitions) */
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation: none !important;
      animation-duration: 0ms !important;
      animation-iteration-count: 1 !important;
      scroll-behavior: auto !important;
    }
  }
  
  /* Focus styles for accessibility */
  *:focus {
    @apply outline-none ring-2 ring-lavender-300 ring-offset-2;
  }
  
  /* Skip link */
  .gn-skip-link {
    @apply sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 focus:z-50;
    @apply bg-lavender-500 text-white px-4 py-2 rounded;
  }
}

/* Custom component styles */
@layer components {
  .gn-container {
    @apply max-w-7xl mx-auto px-4 sm:px-6 lg:px-8;
  }
  
  .gn-btn {
    @apply inline-flex items-center justify-center px-6 py-3;
    @apply text-sm font-medium rounded-full transition-all duration-300;
    @apply focus:outline-none focus:ring-2 focus:ring-offset-2;
  }
  
  .gn-btn-primary {
    @apply gn-btn bg-gradient-to-r from-lavender-gradient-from to-lavender-gradient-to;
    @apply text-white hover:from-lavender-gradient-hover hover:to-lavender-gradient-hover;
    @apply focus:ring-lavender-300 shadow-soft;
  }
  
  .gn-btn-secondary {
    @apply gn-btn bg-gold-500 text-white hover:bg-gold-600;
    @apply focus:ring-gold-300 shadow-soft;
  }
  
  .gn-card {
    @apply bg-white rounded-3xl shadow-soft p-6;
    transition: box-shadow .36s cubic-bezier(.16,1,.3,1);
    backface-visibility: hidden;
    transform: translateZ(0);
  }
  .gn-card:hover { @apply shadow-soft-lg; }
  
  .gn-post-card {
    @apply gn-card;
  }
  
  .gn-posts-grid {
    @apply grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6;
  }
  
  .gn-post-thumbnail {
    @apply mb-4 overflow-hidden rounded-2xl;
  }
  
  .gn-post-title {
    @apply text-xl font-bold text-soft-black mb-2;
  }
  
  .gn-post-title a {
    @apply hover:text-lavender-500 transition-colors duration-300;
  }
  
  .gn-post-meta {
    @apply text-sm text-gray-600 mb-3;
  }
  
  .gn-post-excerpt {
    @apply text-gray-700 leading-relaxed;
  }
  
  .gn-no-posts {
    @apply text-center py-12;
  }
  
  .gn-no-posts h2 {
    @apply text-2xl font-bold text-soft-black mb-4;
  }
  
  .gn-no-posts p {
    @apply text-gray-600;
  }
}

/* Custom utilities */
@layer utilities {
  .gn-text-gradient {
    @apply bg-gradient-to-r from-lavender-gradient-from to-lavender-gradient-to;
    @apply bg-clip-text text-transparent;
  }
  
  .gn-bg-gradient {
    @apply bg-gradient-to-r from-lavender-gradient-from to-lavender-gradient-to;
  }
  
  .gn-shadow-soft {
    box-shadow: 0 4px 20px rgba(200, 162, 200, 0.1);
  }
  
  .gn-shadow-soft-lg {
    box-shadow: 0 8px 30px rgba(200, 162, 200, 0.15);
  }
  
  /* Header styles */
  .gn-header {
    @apply bg-white shadow-soft sticky top-0 z-50;
  }
  
  .gn-header-content {
    @apply flex items-center justify-between py-4;
  }
  
  .gn-site-branding {
    @apply flex-shrink-0;
  }
  
  .gn-site-title {
    @apply text-2xl font-bold text-soft-black;
  }
  
  .gn-site-title a {
    @apply hover:text-lavender-500 transition-colors duration-300;
  }
  
  .gn-site-description {
    @apply text-sm text-gray-600 mt-1;
  }
  
  /* Search styles */
  .gn-search-container {
    @apply flex-1 max-w-2xl mx-8;
  }
  
  .gn-search-form {
    @apply relative;
  }
  
  .gn-search-input-wrapper {
    @apply relative;
  }
  
  .gn-search-input {
    @apply w-full px-4 py-4 pr-12 border-2 rounded-3xl bg-white text-soft-black placeholder-gray-500;
    border-color: #C8A2C8;
    will-change: box-shadow, border-color, background-color;
    transition: border-color .32s cubic-bezier(.16,1,.3,1), box-shadow .32s cubic-bezier(.16,1,.3,1), background-color .32s ease;
  }
  .gn-search-input:focus {
    outline: none;
    border-color: #D4AF37;
    box-shadow: 0 0 0 3px rgba(212,175,55,0.25);
  }
  
  .gn-search-submit {
    @apply absolute left-3 top-1/2 transform -translate-y-1/2;
    @apply text-gray-400 hover:text-lavender-500 transition-colors duration-300;
  }
  
  .gn-search-results {
    @apply absolute top-full left-0 right-0 mt-2 bg-white rounded-2xl shadow-soft-lg;
    @apply border border-gray-200 max-h-96 overflow-y-auto z-50;
    @apply opacity-0 invisible transition-all duration-300;
  }
  
  .gn-search-results-visible {
    @apply opacity-100 visible;
  }
  
  .gn-search-section {
    @apply p-4;
  }
  
  .gn-search-section:not(:last-child) {
    @apply border-b border-gray-100;
  }
  
  .gn-search-section-title {
    @apply text-sm font-semibold text-gray-700 mb-3;
  }
  
  .gn-search-list {
    @apply space-y-2;
  }
  
  .gn-search-item {
    @apply rounded-lg transition-colors duration-200;
  }
  
  .gn-search-item-selected {
    @apply bg-lavender-50;
  }
  
  .gn-search-link {
    @apply flex items-center p-3 hover:bg-lavender-50 transition-colors duration-200;
  }
  
  .gn-search-image {
    @apply w-12 h-12 rounded-lg object-cover flex-shrink-0 ms-3;
  }
  
  .gn-search-content {
    @apply flex-1 min-w-0;
  }
  
  .gn-search-title {
    @apply block text-sm font-medium text-soft-black truncate;
  }
  
  .gn-search-meta {
    @apply block text-xs text-gray-500 mt-1;
  }
  
  /* Navigation styles */
  .gn-main-navigation {
    @apply flex-shrink-0;
  }
  
  .gn-menu-toggle {
    @apply lg:hidden flex items-center px-3 py-2 text-soft-black;
    @apply hover:text-lavender-500 transition-colors duration-300;
  }
  
  .gn-menu-toggle-icon {
    @apply flex flex-col justify-center w-6 h-6 ms-2;
  }
  
  .gn-menu-toggle-icon span {
    @apply block h-0.5 w-6 bg-current transition-all duration-300;
  }
  
  .gn-menu-toggle-icon span:not(:last-child) {
    @apply mb-1;
  }
  
  .gn-menu-open .gn-menu-toggle-icon span:nth-child(1) {
    @apply transform rotate-45 translate-y-1.5;
  }
  
  .gn-menu-open .gn-menu-toggle-icon span:nth-child(2) {
    @apply opacity-0;
  }
  
  .gn-menu-open .gn-menu-toggle-icon span:nth-child(3) {
    @apply transform -rotate-45 -translate-y-1.5;
  }
  
  .gn-primary-menu {
    @apply hidden lg:flex lg:items-center lg:space-x-8 lg:space-x-reverse;
  }
  
  .gn-primary-menu li {
    @apply relative;
  }
  
  .gn-primary-menu a {
    @apply block px-3 py-2 text-soft-black font-medium;
    @apply hover:text-lavender-500 transition-colors duration-300;
  }
  
  /* Mobile menu styles */
  .gn-menu-open .gn-primary-menu {
    @apply fixed inset-y-0 right-0 w-80 bg-white shadow-soft-lg;
    @apply flex flex-col justify-start pt-20 px-6 z-50;
    @apply transform translate-x-full transition-transform duration-300;
  }
  
  .gn-menu-open .gn-primary-menu {
    @apply translate-x-0;
  }
  
  .gn-menu-open .gn-primary-menu li {
    @apply mb-4;
  }
  
  .gn-menu-open .gn-primary-menu a {
    @apply text-lg py-3 border-b border-gray-100;
  }
  
  .gn-menu-open::before {
    @apply fixed inset-0 bg-black bg-opacity-50 z-40;
    content: '';
  }
  
  /* Body scroll lock when menu is open */
  .gn-menu-open {
    @apply overflow-hidden;
  }
  
  /* Mobile responsive */
  @media (max-width: 1023px) {
    .gn-search-container {
      @apply mx-4 max-w-none;
    }
    
    .gn-header-content {
      @apply flex-wrap;
    }
    
    .gn-site-branding {
      @apply order-1;
    }
    
    .gn-search-container {
      @apply order-3 w-full mt-4;
    }
    
    .gn-main-navigation {
      @apply order-2;
    }
  }
  
  /* Hero section styles */
  .gn-hero {
    @apply relative h-screen flex items-center justify-center overflow-hidden;
    min-height: 100vh;
  }
  
  .gn-hero-background {
    @apply absolute inset-0 bg-cover bg-center bg-no-repeat;
    @apply transform-gpu;
    will-change: transform;
  }
  
  .gn-hero-overlay {
    @apply absolute inset-0 bg-gradient-to-b from-black/20 via-black/40 to-black/60;
  }
  
  .gn-hero-content {
    @apply relative z-10 text-center text-white;
  }
  
  .gn-hero-text {
    @apply max-w-4xl mx-auto px-4;
  }
  
  .gn-hero-title {
    @apply text-4xl md:text-5xl lg:text-6xl font-bold mb-6;
    @apply leading-tight;
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
  }
  
  .gn-hero-subtitle {
    @apply text-lg md:text-xl lg:text-2xl mb-8;
    @apply leading-relaxed opacity-90;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
  }
  
  .gn-hero-actions {
    @apply flex justify-center;
  }
  
  .gn-hero-cta {
    @apply inline-flex items-center justify-center text-lg px-8 py-4 rounded-3xl font-bold;
    color: #ffffff;
    background-color: #9A7B9A;
    border: 2px solid #D4AF37;
    will-change: transform, box-shadow, background-color;
    transform: translateZ(0);
    transition: transform .6s cubic-bezier(.16,1,.3,1), box-shadow .6s cubic-bezier(.16,1,.3,1), background-color .6s ease, border-color .6s ease;
    box-shadow: 0 6px 18px rgba(200,162,200,0.16);
    position: relative;
    overflow: hidden;
    border-radius: 1.5rem;
  }
  .gn-hero-cta::before {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: inherit;
    pointer-events: none;
    background: #000000;
    mix-blend-mode: multiply;
    opacity: 0;
    transition: opacity .6s cubic-bezier(.16,1,.3,1);
  }
  .gn-hero-cta:hover { transform: translateY(-4px) scale(1.035); box-shadow: 0 24px 40px rgba(200,162,200,0.26); border-color: #B8952D; }
  .gn-hero-cta:hover::before { opacity: 0.18; }
  .gn-hero-cta:active { transform: translateY(-2px) scale(1.02); box-shadow: 0 16px 28px rgba(200,162,200,0.22); }
  .gn-hero-cta:focus { outline: none; box-shadow: 0 0 0 3px rgba(212,175,55,0.35); }
  
  .gn-hero-scroll-indicator {
    @apply absolute bottom-8 left-1/2 transform -translate-x-1/2;
    @apply text-white opacity-70 hover:opacity-100 transition-opacity duration-300;
    @apply cursor-pointer;
  }
  
  .gn-scroll-arrow { animation: none; }
  
  /* Parallax effect */
  .gn-hero-background[data-parallax="true"] {
    transform: translateY(0);
  }
  
  /* Reduced motion support */
  @media (prefers-reduced-motion: reduce) {
    .gn-hero-background {
      transform: none !important;
    }
    
    .gn-hero-cta {
      transform: none !important;
    }
    
    .gn-hero-cta:hover {
      transform: none !important;
    }
    
    .gn-scroll-arrow {
      animation: none;
    }
  }
  
  /* Mobile hero adjustments */
  @media (max-width: 768px) {
    .gn-hero {
      @apply h-screen;
      min-height: 100vh;
    }
    
    .gn-hero-title {
      @apply text-3xl md:text-4xl;
    }
    
    .gn-hero-subtitle {
      @apply text-base md:text-lg;
    }
    
    .gn-hero-cta {
      @apply text-base px-6 py-3;
    }
    
    /* Disable parallax on mobile for performance */
    .gn-hero-background {
      transform: none !important;
    }
  }

  /* Categories grid */
  .gn-categories-section { @apply py-12 md:py-16; }
  .gn-section-title { @apply text-2xl md:text-3xl font-bold text-soft-black text-center; }
  .gn-section-subtitle { @apply text-gray-600 text-center mt-2 mb-8; }
  .gn-categories-grid { @apply grid gap-6 sm:grid-cols-2 lg:grid-cols-4; }
  .gn-category-card { @apply gn-card w-full text-right cursor-pointer select-none; will-change: transform, box-shadow; transform: translateZ(0); transition: transform .36s cubic-bezier(.16,1,.3,1), box-shadow .36s cubic-bezier(.16,1,.3,1); }
  .gn-category-card:hover { transform: translate3d(0,-2px,0); box-shadow: 0 14px 28px rgba(200,162,200,.2); }
  .gn-category-icon { @apply inline-flex items-center justify-center w-14 h-14 rounded-full bg-lavender-50 mb-4; }
  .gn-category-title { @apply block text-lg font-bold text-soft-black mb-1; }
  .gn-category-desc { @apply block text-sm text-gray-600; }

  /* Modal */
  .gn-modal { @apply fixed inset-0 z-50 opacity-0 invisible transition-opacity duration-200; }
  .gn-modal[aria-hidden="false"] { @apply opacity-100 visible; }
  .gn-modal__backdrop { @apply absolute inset-0 bg-black bg-opacity-50; }
  .gn-modal__dialog { @apply relative bg-white rounded-3xl shadow-soft-lg max-w-md mx-auto mt-32 p-6; }
  .gn-modal__title { @apply text-xl font-bold text-soft-black mb-2; }
  .gn-modal__desc { @apply text-gray-600 mb-6; }
  .gn-modal__actions { @apply flex gap-3 justify-start; }
  .gn-modal__close { @apply absolute top-4 left-4 text-gray-500 hover:text-soft-black; }
  .gn-modal-open { @apply overflow-hidden; }

  /* Sliders */
  .gn-sliders-section { @apply py-12 md:py-16; }
  .gn-sliders-grid { @apply grid gap-10 lg:grid-cols-2; }
  .gn-slider-header { @apply mb-4 flex items-center justify-between; }

  .gn-embla { @apply relative; }
  .gn-embla__viewport { @apply overflow-hidden; }
  .gn-embla__container { display: flex; gap: 1rem; }
  .gn-embla__slide { flex: 0 0 70%; }
  @media (min-width: 768px){ .gn-embla__slide { flex-basis: 45%; } }
  @media (min-width: 1024px){ .gn-embla__slide { flex-basis: 33.333%; } }
  @media (min-width: 1280px){ .gn-embla__slide { flex-basis: 25%; } }

  .gn-embla__card { @apply block h-full; }
  .gn-embla__image-wrap { @apply mb-3 overflow-hidden rounded-2xl; backface-visibility: hidden; transform: translateZ(0); }
  .gn-embla__image { width: 100%; height: 12rem; object-fit: cover; backface-visibility: hidden; transform: translateZ(0); }
  .gn-embla__title { @apply text-sm font-bold text-soft-black truncate; }
  .gn-embla__meta { @apply text-xs text-gray-600 mt-1 block; }
  .gn-embla__empty { @apply text-gray-500 py-8; }

  .gn-embla__prev, .gn-embla__next {
    @apply absolute top-1/2 -translate-y-1/2 bg-white/80 text-soft-black rounded-full w-9 h-9 flex items-center justify-center shadow-soft;
  }
  .gn-embla__prev { inset-inline-start: .5rem; }
  .gn-embla__next { inset-inline-end: .5rem; }

  .gn-embla__edges {
    @apply pointer-events-none absolute inset-y-0 w-full;
    background: linear-gradient(90deg, rgba(255,255,255,.9) 0%, rgba(255,255,255,0) 15%, rgba(255,255,255,0) 85%, rgba(255,255,255,.9) 100%);
  }

  /* Footer */
  .gn-footer { @apply relative mt-16 bg-white; }
  /* Soft diagonal brand tint */
  .gn-footer {
    background-image: linear-gradient(135deg, rgba(235,221,249,0.25), rgba(212,175,55,0.06));
    background-blend-mode: overlay;
  }
  .gn-footer::before {
    content: '';
    position: absolute;
    inset-inline: 0;
    top: -14px;
    height: 14px;
    background: linear-gradient(to top, rgba(200,162,200,0.28), rgba(200,162,200,0));
    pointer-events: none;
  }
  .gn-footer-content { @apply py-10 grid gap-6 md:grid-cols-3 items-start; }
  .gn-footer-menu { @apply space-y-2; }
  .gn-footer-menu a { @apply relative text-gray-700 hover:text-lavender-500 transition-colors; }
  .gn-footer-menu a::after {
    content: ''; position: absolute; inset-inline: 0; bottom: -2px; height: 2px;
    background: linear-gradient(90deg, #C8A2C8, #D4AF37);
    transform: scaleX(0); transform-origin: var(--gn-underline-origin, right); transition: transform .25s ease;
  }
  .gn-footer-menu a:hover::after { transform: scaleX(1); }
  .gn-social-menu { @apply flex gap-4 justify-start md:justify-center; }
  .gn-social-menu a {
    @apply inline-flex items-center justify-center w-10 h-10 rounded-full text-soft-black;
    background:
      radial-gradient(120% 120% at 50% 0%, rgba(200,162,200,0.18), rgba(200,162,200,0) 60%),
      linear-gradient(180deg, #FFFFFF, #FAFAFA);
    box-shadow: 0 6px 20px rgba(200,162,200,0.12);
    will-change: transform, box-shadow;
    transform: translateZ(0);
    transition: transform .34s cubic-bezier(.16,1,.3,1), box-shadow .34s cubic-bezier(.16,1,.3,1);
  }
  .gn-social-menu a:hover { transform: translateY(-1px); box-shadow: 0 12px 22px rgba(200,162,200,.2); }
  /* Subtle sheen on hover */
  .gn-social-menu a::after {
    content: ''; position: absolute; inset: 0; border-radius: 9999px; pointer-events: none;
    background: linear-gradient(120deg, transparent 40%, rgba(255,255,255,0.6) 50%, transparent 60%);
    transform: translateX(-130%); transition: transform .6s ease;
  }
  .gn-social-menu a:hover::after { transform: translateX(130%); }
  /* Reduced motion: disable animations */
  @media (prefers-reduced-motion: reduce) {
    .gn-social-menu a, .gn-footer-menu a::after { transition: none !important; }
    .gn-social-menu a:hover { transform: none; }
    .gn-social-menu a::after, .gn-footer-menu a::after { display: none; }
  }
  .gn-footer-info { @apply text-right md:text-left col-span-full md:col-span-1; }
  .gn-footer-info p { @apply text-gray-600 text-sm; }
  /* Brand block */
  .gn-footer-brand { @apply col-span-full md:col-span-1 text-center md:text-left; }
  .gn-footer-logo { @apply inline-block font-bold text-soft-black; }
  .gn-footer-tagline { @apply text-gray-500 text-sm mt-1; }
}
